{"version":3,"sources":["components/back.js","login/index.js","util/Fetch.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"names":["back","react_default","a","createElement","className","onClick","Control","go","state","username","window","localStorage","loginInfo","JSON","parse","password","onSubmit","_callee","ev","_this$state","regenerator_default","wrap","_context","prev","next","preventDefault","_this","fetchData","method","body","stringify","sent","success","info","props","login","stop","onChange","name","setState","Object","defineProperty","target","value","_this$state2","this","type","PureComponent","_ref","F_web_server_web_app_app_notes_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","F_web_server_web_app_app_notes_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","url","_ref2","_ref2$method","_ref2$headers","headers","_args","arguments","length","undefined","Content-Type","fetch","assign","then","response","ok","json","catch","err","console","warn","abrupt","t0","_x","apply","_defineProperty","obj","key","enumerable","configurable","writable","__webpack_require__","d","__webpack_exports__"],"mappings":"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","file":"static/js/10.f2317e9a.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Control } from 'react-keeper';\r\n\r\nexport default () => (\r\n    <a className=\"iconfont icon-cancel app-back\" onClick={()=>Control.go(-1)}> </a>\r\n)","import React, { PureComponent } from 'react';\r\nimport Back from '../components/back';\r\nimport fetchData from '../util/Fetch';\r\n\r\nexport default class extends PureComponent {\r\n\r\n    state = {\r\n        username:window.localStorage.loginInfo ? JSON.parse(window.localStorage.loginInfo).username:'',\r\n        password:''\r\n    }\r\n\r\n    onSubmit = async (ev) => {\r\n        ev.preventDefault();\r\n        const { username,password } = this.state;\r\n        const loginInfo = await fetchData(`/api/login`,{\r\n            method:'POST',\r\n            body:JSON.stringify({username,password})\r\n        });\r\n        if(loginInfo.success){\r\n            window.localStorage.loginInfo = JSON.stringify(loginInfo.info);\r\n            this.props.login(loginInfo.info);\r\n        }\r\n    }\r\n\r\n    onChange = (name) => (ev) => {\r\n        this.setState({[name]:ev.target.value})\r\n    }\r\n\r\n    render() {\r\n        const { username,password } = this.state;\r\n        return (\r\n            <div className=\"app app-center\">\r\n                <Back/>\r\n                <form className=\"login-con sildeUpMin\" onSubmit={this.onSubmit}>\r\n                    <h3 className=\"login-title\">LOGIN</h3>\r\n                    <label className=\"login-label\">USER</label>\r\n                    <input className=\"login-input\" value={username} onChange={this.onChange('username')} />\r\n                    <label className=\"login-label\">PASSWORD</label>\r\n                    <input className=\"login-input\" type=\"password\" value={password} onChange={this.onChange('password')} />\r\n                    <button type=\"submit\" className=\"login-btn\" onClick={this.onSubmit}>LOGIN</button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","const fetchData = async (url, { method = 'GET', headers = { 'Content-Type': 'application/json' }, body } = {}) => {\r\n    try {\r\n        return await fetch(url, Object.assign({\r\n            method: method,\r\n            headers: headers,\r\n        },body?{body}:{}))\r\n        .then((response) => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            console.warn(err);\r\n        })\r\n    } catch (error) {\r\n        console.err(error)\r\n    }\r\n}\r\n\r\nexport default fetchData;","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"sourceRoot":""}