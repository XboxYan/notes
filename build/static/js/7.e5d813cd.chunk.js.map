{"version":3,"sources":["pages/categories.js","components/footer.js","util/Fetch.js","util/api.js","components/pager.js"],"names":["Category","pagesize","state","isrender","total","renderPage","pageInfo","articles","getArticle","category","arguments","length","undefined","Object","F_github_notes_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","F_github_notes_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","_ref2","_ref2$data$repository","nodes","totalCount","_args","wrap","_context","prev","next","_this","setState","getArticleList","labels","sent","data","repository","issues","stop","Control","path","split","this","nextProps","params","pathname","indexOf","props","_this$state","react__WEBPACK_IMPORTED_MODULE_7___default","createElement","className","_components_loader__WEBPACK_IMPORTED_MODULE_10__","map","article","key","number","moment","createdAt","utcOffset","format","react_keeper__WEBPACK_IMPORTED_MODULE_8__","to","title","_components_pager__WEBPACK_IMPORTED_MODULE_11__","fetch","PureComponent","categories","getCategory","filter","el","isDefault","d","name","activeClassName","cache","component","_components_footer__WEBPACK_IMPORTED_MODULE_9__","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","id","href","rel","target","fetchData","_ref","url","_ref2$method","method","_ref2$headers","headers","body","Content-Type","assign","then","response","ok","json","catch","err","console","warn","abrupt","t0","_x","apply","Authorization","concat","replace","_ref4","_callee2","_ref3","_ref3$pageSize","pageSize","_ref3$after","after","_ref3$before","before","_ref3$labels","_context2","JSON","stringify","query","_x2","getArticleDetail","_ref6","_callee3","_ref5","_context3","_x3","_ref7","_callee4","_context4","page","go","dir","_this$props","_this$props$pageInfo","startCursor","endCursor","$page","Math","max","min","ceil","_this$props2","react__WEBPACK_IMPORTED_MODULE_5___default","data-hidden","onClick"],"mappings":"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","file":"static/js/7.e5d813cd.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport { Control,CacheLink,Route } from 'react-keeper';\r\nimport Footer from '../components/footer';\r\nimport Loader from '../components/loader';\r\nimport Pager from '../components/pager';\r\nimport fetchData from '../util/Fetch';\r\nimport { getArticleList,getCategory } from '../util/api';\r\nimport moment from 'moment';\r\n\r\nclass Category extends PureComponent {\r\n\r\n    pagesize = 5;\r\n\r\n    state = {\r\n        isrender:true,\r\n        total:1,\r\n        renderPage:true,\r\n        pageInfo:{},\r\n        articles:[]\r\n    }\r\n\r\n    getArticle = (category='') => async (page=1) => {\r\n        if(category){\r\n            this.setState({isrender:true});\r\n            const { data:{repository:{issues:{nodes,pageInfo,totalCount}}} } = await getArticleList({pagesize:this.pagesize,labels:category});\r\n            this.setState({articles:nodes,total:totalCount,isrender:false,pageInfo:pageInfo,renderPage:true});\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const category = Control.path.split(\"/categories/\")[1]||\"\";\r\n        this.category = category;\r\n        this.getArticle(category)();\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if( this.category!==nextProps.params.category && nextProps.pathname.indexOf('search')<0 && nextProps.pathname.indexOf('categories/')>=0 && this.props.pathname!==nextProps.pathname){\r\n            const {category} = nextProps.params;\r\n            this.category = category;\r\n            this.setState({renderPage:false});\r\n            this.getArticle(category)();\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {articles,total,isrender,renderPage,pageInfo} = this.state;\r\n        const category = this.category||\"\";\r\n        return (\r\n            <section className=\"slideDownMin\">\r\n                {\r\n                    isrender?\r\n                    <Loader/>\r\n                    :\r\n                    (\r\n                        articles.length>0?\r\n                        articles.map(article=>(\r\n                            <article className=\"item\" key={article.number}>\r\n                                <time className=\"item-date\"> {moment(article.createdAt).utcOffset(8).format(\"YYYY年M月D日\")}</time>\r\n                                <CacheLink className=\"item-title\" to={\"/article/\"+article.number}>{article.title}</CacheLink>\r\n                            </article>\r\n                        ))\r\n                        :\r\n                        <div className=\"iconfont icon-nofound empty\"></div>\r\n                    )\r\n                }\r\n                {\r\n                    renderPage&&<Pager\r\n                        total={total}\r\n                        pagesize={this.pagesize}\r\n                        fetch={this.getArticle(category)}\r\n                    />\r\n                }\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default class extends PureComponent {\r\n    state = {\r\n        categories: []\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { data:{repository:{labels:{nodes}}} }= await getCategory();\r\n        this.setState({ categories: nodes });\r\n    }\r\n\r\n    render() {\r\n        const {categories} = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <section className=\"main sildeUpMin\">\r\n                    <section>\r\n                        <h2 className=\"page-title\">分类</h2>\r\n                        {\r\n                            categories.filter(el=>!el.isDefault).map(d=>(\r\n                                <CacheLink key={d.name} activeClassName=\"tag-active\" to={ \"/categories/\"+ d.name } className=\"tag-wrap\">\r\n                                    <span className=\"iconfont icon-tag-inner\"></span>\r\n                                    <span className=\"tag-name\"> {d.name} </span>\r\n                                </CacheLink>\r\n                            ))\r\n                        }\r\n                    </section>\r\n                    <Route cache='parent' component={Category} path=\"/:category\" />                \r\n                </section>\r\n                <Footer />\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default () => (\r\n    <footer id=\"footer\">\r\n        <div className=\"footer-copyright\">\r\n            © 2018 XboxYan<br />\r\n            Theme By \r\n            <a href=\"https://github.com/Lemonreds/hexo-theme-Nayo\" rel=\"noopener noreferrer\" target=\"_blank\"> Nayo</a>\r\n        </div>\r\n    </footer>\r\n)","const fetchData = async (url, { method = 'GET', headers = { 'Content-Type': 'application/json' }, body } = {}) => {\r\n    try {\r\n        return await fetch(url, Object.assign({\r\n            method: method,\r\n            headers: headers,\r\n        },body?{body}:{}))\r\n        .then((response) => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            console.warn(err);\r\n        })\r\n    } catch (error) {\r\n        console.err(error)\r\n    }\r\n}\r\n\r\nexport default fetchData;","const fetchData = async (url, { method = 'GET', headers = { 'Content-Type': 'application/json' }, body } = {}) => {\r\n    try {\r\n        return await fetch(url, Object.assign({\r\n            method: method,\r\n            headers: headers,\r\n        }, body ? { body } : {}))\r\n            .then((response) => {\r\n                if (response.ok) {\r\n                    return response.json();\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.warn(err);\r\n            })\r\n    } catch (error) {\r\n        console.err(error)\r\n    }\r\n}\r\n\r\nconst url = 'https://api.github.com/graphql';\r\n\r\nconst token = '2-7-4-b-0-1-7-e-5-f-a-7-9-b-b-9-b-7-b-b-9-8-8-5-8-6-2-4-7-7-7-7-7-6-f-3-7-c-f-e';\r\n\r\nconst headers = {\r\n    'Content-Type': 'application/json',\r\n    'Authorization': `token ${token.replace(/-/g,'')}`\r\n}\r\n\r\nconst getArticleList = async ({ pageSize = 5, after = null, before = null, labels=null }) => {\r\n    return await fetch(url, {\r\n        method: 'POST',\r\n        headers: headers,\r\n        body: JSON.stringify({\r\n            query: `\r\n            {\r\n                repository(owner: \"XboxYan\", name: \"notes\") {\r\n                  issues(first: ${pageSize}, states: OPEN, orderBy: {field: UPDATED_AT, direction: DESC},after:${after},before:${before},labels:${labels}) {\r\n                    pageInfo {\r\n                      hasPreviousPage\r\n                      startCursor\r\n                      hasNextPage\r\n                      endCursor\r\n                    }\r\n                    totalCount\r\n                    nodes {\r\n                        number\r\n                        title\r\n                        id\r\n                        createdAt\r\n                        labels(first: 10) {\r\n                            nodes {\r\n                                color\r\n                                name\r\n                                id\r\n                          }\r\n                        }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            `\r\n        })\r\n    })\r\n    .then((response) => {\r\n        if (response.ok) {\r\n            return response.json();\r\n        }\r\n    })\r\n    .catch((err) => {\r\n        console.warn(err);\r\n    })\r\n}\r\n\r\nconst getArticleDetail = async ({ number }) => {\r\n    return await fetch(url, {\r\n        method: 'POST',\r\n        headers: headers,\r\n        body: JSON.stringify({\r\n            query: `\r\n            {\r\n                repository(owner: \"XboxYan\", name: \"notes\") {\r\n                  issue(number:${number}) {\r\n                    body\r\n                    number\r\n                    id\r\n                    title\r\n                    createdAt\r\n                    labels(first: 10) {\r\n                        nodes {\r\n                            color\r\n                            name\r\n                            id\r\n                        }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            `\r\n        })\r\n    })\r\n    .then((response) => {\r\n        if (response.ok) {\r\n            return response.json();\r\n        }\r\n    })\r\n    .catch((err) => {\r\n        console.warn(err);\r\n    })\r\n}\r\n\r\nconst getCategory = async () => {\r\n    return await fetch(url, {\r\n        method: 'POST',\r\n        headers: headers,\r\n        body: JSON.stringify({\r\n            query: `\r\n            {\r\n                repository(owner: \"XboxYan\", name: \"notes\") {\r\n                  labels(first: 99) {\r\n                          nodes{\r\n                        color\r\n                        description\r\n                        color\r\n                        id\r\n                        isDefault\r\n                        name\r\n                    }\r\n                    totalCount\r\n                  }\r\n                }\r\n              }\r\n            `\r\n        })\r\n    })\r\n    .then((response) => {\r\n        if (response.ok) {\r\n            return response.json();\r\n        }\r\n    })\r\n    .catch((err) => {\r\n        console.warn(err);\r\n    })\r\n}\r\n\r\nexport { getArticleList,getArticleDetail,getCategory };","import React, { PureComponent } from 'react';\r\n\r\nexport default class extends PureComponent {\r\n    state = {\r\n        page: 1,\r\n    }\r\n\r\n    go = (dir) => () => {\r\n        const { page } = this.state;\r\n        const { total, pagesize,pageInfo:{startCursor,endCursor} } = this.props;\r\n        let $page = Math.max(Math.min(page + dir, Math.ceil(total / pagesize)), 1);\r\n        this.setState({ isrender: true, page:$page });\r\n        this.props.fetch && this.props.fetch(dir>0?{after:endCursor}:{before:startCursor});\r\n    }\r\n\r\n    render() {\r\n        const { total, pagesize } = this.props;\r\n        const max = Math.ceil(total / pagesize);\r\n        const { page } = this.state;\r\n        return (\r\n            total?\r\n            <nav className=\"paginator scrollIn\">\r\n                <a className=\"prev\" data-hidden={page === 1} onClick={this.go(-1)}><i className=\"iconfont icon-left\"></i>上一页</a>\r\n                <span className=\"page-number\">Page {page} / {max}.</span>\r\n                <a className=\"next\" data-hidden={page === max} onClick={this.go(1)}>下一页<i className=\"iconfont icon-right\"></i></a>\r\n            </nav>\r\n            :null\r\n        )\r\n    }\r\n}\r\n"],"sourceRoot":""}