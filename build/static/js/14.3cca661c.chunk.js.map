{"version":3,"sources":["pages/archives.js","util/Fetch.js","components/footer.js"],"names":["state","articles","isrender","getArticle","_callee","F_web_server_web_app_app_notes_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","fetchData","sent","_this","setState","data","stop","this","_this$state","react__WEBPACK_IMPORTED_MODULE_7___default","createElement","className","_components_loader__WEBPACK_IMPORTED_MODULE_10__","map","d","i","react__WEBPACK_IMPORTED_MODULE_7__","key","moment","createdAt","utcOffset","format","article","_id","react_keeper__WEBPACK_IMPORTED_MODULE_8__","to","title","_components_footer__WEBPACK_IMPORTED_MODULE_11__","PureComponent","_ref","Object","F_web_server_web_app_app_notes_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","mark","url","_ref2","_ref2$method","method","_ref2$headers","headers","body","_args","arguments","length","undefined","Content-Type","fetch","assign","then","response","ok","json","catch","err","console","warn","abrupt","t0","_x","apply","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","id","href","rel","target"],"mappings":"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","file":"static/js/14.3cca661c.chunk.js","sourcesContent":["import React, { PureComponent,Fragment } from 'react';\r\nimport { CacheLink } from 'react-keeper';\r\nimport fetchData from '../util/Fetch';\r\nimport Loader from '../components/loader';\r\nimport Footer from '../components/footer';\r\nimport moment from 'moment';\r\n\r\nexport default class extends PureComponent {\r\n    state = {\r\n        articles:[],\r\n        isrender: true\r\n    }\r\n\r\n    getArticle = async () => {\r\n        const articles = await fetchData('/api/archives');\r\n        this.setState({articles:articles.data,isrender:false});\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.getArticle();\r\n    }\r\n\r\n    render() {\r\n        const {articles,isrender} = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <section className=\"main sildeUpMin\">\r\n                    <span className=\"page-title\">归档</span>\r\n                    <section className=\"archive slideDownMin\">\r\n                        {\r\n                            isrender?\r\n                            <Loader/>\r\n                            :\r\n                            articles.map((d,i)=>(\r\n                                <Fragment key={i}>\r\n                                    <h3 className=\"archive-year\">{ moment(d.createdAt).utcOffset(8).format(\"YYYY年M月\") }</h3>\r\n                                    {\r\n                                        d.article.map(article=>(\r\n                                            <div className=\"archive-item\" key={article._id}>\r\n                                                <span className=\"archive-time\">{moment(article.createdAt).utcOffset(8).format(\"M月D日\")}</span>\r\n                                                <span className=\"archive-title\">\r\n                                                    <CacheLink to={\"/article/\"+article._id}>{article.title}</CacheLink>\r\n                                                </span>\r\n                                            </div>\r\n                                        ))\r\n                                    }\r\n                                </Fragment>\r\n                            ))\r\n                        }\r\n                    </section>\r\n                </section>\r\n                <Footer />\r\n            </div>\r\n        )\r\n    }\r\n}","const fetchData = async (url, { method = 'GET', headers = { 'Content-Type': 'application/json' }, body } = {}) => {\r\n    try {\r\n        return await fetch(url, Object.assign({\r\n            method: method,\r\n            headers: headers,\r\n        },body?{body}:{}))\r\n        .then((response) => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            console.warn(err);\r\n        })\r\n    } catch (error) {\r\n        console.err(error)\r\n    }\r\n}\r\n\r\nexport default fetchData;","import React from 'react';\r\n\r\nexport default () => (\r\n    <footer id=\"footer\">\r\n        <div className=\"footer-copyright\">\r\n            © 2018 XboxYan<br />\r\n            Theme By \r\n            <a href=\"https://github.com/Lemonreds/hexo-theme-Nayo\" rel=\"noopener noreferrer\" target=\"_blank\"> Nayo</a>\r\n        </div>\r\n    </footer>\r\n)"],"sourceRoot":""}